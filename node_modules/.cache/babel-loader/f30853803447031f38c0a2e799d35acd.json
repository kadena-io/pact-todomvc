{"ast":null,"code":"var _jsxFileName = \"/Users/heekyun/Kadena/pact-todomvc/src/components/todos/todo-app.jsx\";\nimport * as React from \"react\";\nimport { TodoItem } from \"./todo.jsx\";\nimport { TodoFooter } from \"./footer.jsx\";\nimport uuidv4 from \"uuid/v4\";\nimport Pact from \"pact-lang-api\";\nconst ENTER_KEY = 13;\nconst KP = Pact.crypto.genKeyPair();\nconst API_HOST = \"http://localhost:9001\";\nexport class TodoApp extends React.PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      todos: [],\n      onChanges: [],\n      nowShowing: \"all\",\n      editing: null,\n      newTodo: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleNewTodoKeyDown = this.handleNewTodoKeyDown.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.destroy = this.destroy.bind(this);\n    this.edit = this.edit.bind(this);\n    this.cancel = this.cancel.bind(this);\n    this.clearcompleted = this.clearcompleted.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.getTodos();\n  }\n\n  getTodos() {\n    const cmdObj = {\n      pactCode: \"(todos.read-todos)\",\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n    Pact.fetch.local(cmdObj).then(res => res.data).then(todos => this.setState({\n      todos\n    })).catch(e => e);\n  }\n\n  handleChange(event) {\n    this.setState({\n      newTodo: event.target.value\n    });\n  }\n\n  handleNewTodoKeyDown(event) {\n    if (event.keyCode !== ENTER_KEY) {\n      return;\n    }\n\n    event.preventDefault();\n    var val = this.state.newTodo.trim();\n\n    if (val) {\n      this.addTodo(val);\n      this.setState({\n        newTodo: \"\"\n      });\n    }\n  }\n\n  addTodo(title) {\n    const uuid = uuidv4();\n    const cmdObj = {\n      pactCode: \"(todos.new-todo\\n                 \".concat(JSON.stringify(uuid), \"\\n                 \").concat(JSON.stringify(title), \")\"),\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n    Pact.fetch.send(cmdObj);\n  }\n\n  toggle(todo) {\n    const cmdObj = {\n      pactCode: \"(todos.toggle-todo-status\\n                 \".concat(JSON.stringify(todo.id), \")\"),\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n    const res = Pact.fetch.send(cmdObj);\n  }\n\n  destroy(todo) {\n    const cmdObj = {\n      pactCode: \"(todos.delete-todo\\n                 \".concat(JSON.stringify(todo.id), \")\"),\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n    Pact.fetch.send(cmdObj);\n  }\n\n  edit(todo, text) {\n    const cmdObj = {\n      pactCode: \"(todos.edit-todo\\n                \".concat(JSON.stringify(todo.id), \")\\n                \").concat(JSON.stringify(text), \")\"),\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n    const res = Pact.fetch.send(cmdObj);\n    this.setState({\n      editing: null\n    });\n  }\n\n  cancel() {\n    this.setState({\n      editing: null\n    });\n  }\n\n  clearcompleted() {\n    this.todos = this.todos.filter(function (todo) {\n      return !todo.completed;\n    });\n  }\n\n  handleSubmit(e) {\n    var val = this.state.editText.trim();\n\n    if (val) {\n      this.save(val);\n      this.setState({\n        editText: val\n      });\n    } else {\n      this.destroy();\n    }\n  }\n\n  render() {\n    console.log(this.state.todos);\n    var footer;\n    var main;\n    var todos = this.state.todos;\n    var shownTodos = todos.filter(function (todo) {\n      switch (this.state.nowShowing) {\n        case \"active\":\n          return !todo.completed;\n\n        case \"completed\":\n          return todo.completed;\n\n        default:\n          return true;\n      }\n    }, this);\n    var todoItems = shownTodos.map(function (todo) {\n      return React.createElement(TodoItem, {\n        key: todo.id,\n        todo: todo,\n        onToggle: this.toggle.bind(this, todo),\n        onDestroy: this.destroy.bind(this, todo),\n        onEdit: this.edit.bind(this, todo),\n        editing: this.state.editing === todo.id,\n        onCancel: this.cancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      });\n    }, this);\n    var activeTodoCount = todos.reduce(function (accum, todo) {\n      return todo.completed ? accum : accum + 1;\n    }, 0);\n    var completedCount = todos.length - activeTodoCount;\n\n    if (activeTodoCount || completedCount) {\n      footer = React.createElement(TodoFooter, {\n        count: activeTodoCount,\n        completedCount: completedCount,\n        nowShowing: this.state.nowShowing,\n        onClearCompleted: this.clearCompleted,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      });\n    }\n\n    if (todos.length) {\n      main = React.createElement(\"section\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"toggle-all\",\n        className: \"toggle-all\",\n        type: \"checkbox\",\n        onChange: this.toggleAll,\n        checked: activeTodoCount === 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"toggle-all\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        className: \"todo-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, todoItems));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"todos\"), React.createElement(\"input\", {\n      className: \"new-todo\",\n      placeholder: \"What needs to be done?\",\n      value: this.state.newTodo,\n      onKeyDown: this.handleNewTodoKeyDown,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    })), main, footer);\n  }\n\n}","map":{"version":3,"sources":["/Users/heekyun/Kadena/pact-todomvc/src/components/todos/todo-app.jsx"],"names":["React","TodoItem","TodoFooter","uuidv4","Pact","ENTER_KEY","KP","crypto","genKeyPair","API_HOST","TodoApp","PureComponent","constructor","state","todos","onChanges","nowShowing","editing","newTodo","handleChange","bind","handleNewTodoKeyDown","toggle","destroy","edit","cancel","clearcompleted","handleSubmit","componentDidMount","getTodos","cmdObj","pactCode","apiHost","keyPairs","fetch","local","then","res","data","setState","catch","e","event","target","value","keyCode","preventDefault","val","trim","addTodo","title","uuid","JSON","stringify","send","todo","id","text","filter","completed","editText","save","render","console","log","footer","main","shownTodos","todoItems","map","activeTodoCount","reduce","accum","completedCount","length","clearCompleted","toggleAll"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { TodoItem } from \"./todo.jsx\";\nimport { TodoFooter } from \"./footer.jsx\";\nimport uuidv4 from \"uuid/v4\";\nimport Pact from \"pact-lang-api\";\n\nconst ENTER_KEY = 13;\nconst KP = Pact.crypto.genKeyPair();\nconst API_HOST = \"http://localhost:9001\";\n\nexport class TodoApp extends React.PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      todos: [],\n      onChanges: [],\n      nowShowing: \"all\",\n      editing: null,\n      newTodo: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleNewTodoKeyDown = this.handleNewTodoKeyDown.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.destroy = this.destroy.bind(this);\n    this.edit = this.edit.bind(this);\n    this.cancel = this.cancel.bind(this);\n    this.clearcompleted = this.clearcompleted.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.getTodos();\n  }\n\n  getTodos() {\n    const cmdObj = {\n      pactCode: `(todos.read-todos)`,\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n    Pact.fetch\n      .local(cmdObj)\n      .then(res => res.data)\n      .then(todos => this.setState({ todos }))\n      .catch(e => e);\n  }\n\n  handleChange(event) {\n    this.setState({ newTodo: event.target.value });\n  }\n\n  handleNewTodoKeyDown(event) {\n    if (event.keyCode !== ENTER_KEY) {\n      return;\n    }\n\n    event.preventDefault();\n\n    var val = this.state.newTodo.trim();\n\n    if (val) {\n      this.addTodo(val);\n      this.setState({ newTodo: \"\" });\n    }\n  }\n\n  addTodo(title) {\n    const uuid = uuidv4();\n    const cmdObj = {\n      pactCode: `(todos.new-todo\n                 ${JSON.stringify(uuid)}\n                 ${JSON.stringify(title)})`,\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n\n    Pact.fetch.send(cmdObj);\n  }\n\n  toggle(todo) {\n    const cmdObj = {\n      pactCode: `(todos.toggle-todo-status\n                 ${JSON.stringify(todo.id)})`,\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n    const res = Pact.fetch.send(cmdObj);\n  }\n\n  destroy(todo) {\n    const cmdObj = {\n      pactCode: `(todos.delete-todo\n                 ${JSON.stringify(todo.id)})`,\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n    Pact.fetch.send(cmdObj);\n  }\n\n  edit(todo, text) {\n    const cmdObj = {\n      pactCode: `(todos.edit-todo\n                ${JSON.stringify(todo.id)})\n                ${JSON.stringify(text)})`,\n      apiHost: API_HOST,\n      keyPairs: KP\n    };\n    const res = Pact.fetch.send(cmdObj);\n    this.setState({ editing: null });\n  }\n\n  cancel() {\n    this.setState({ editing: null });\n  }\n\n  clearcompleted() {\n    this.todos = this.todos.filter(function(todo) {\n      return !todo.completed;\n    });\n  }\n\n  handleSubmit(e) {\n    var val = this.state.editText.trim();\n    if (val) {\n      this.save(val);\n      this.setState({\n        editText: val\n      });\n    } else {\n      this.destroy();\n    }\n  }\n\n  render() {\n    console.log(this.state.todos);\n    var footer;\n    var main;\n    var todos = this.state.todos;\n    var shownTodos = todos.filter(function(todo) {\n      switch (this.state.nowShowing) {\n        case \"active\":\n          return !todo.completed;\n        case \"completed\":\n          return todo.completed;\n        default:\n          return true;\n      }\n    }, this);\n\n    var todoItems = shownTodos.map(function(todo) {\n      return (\n        <TodoItem\n          key={todo.id}\n          todo={todo}\n          onToggle={this.toggle.bind(this, todo)}\n          onDestroy={this.destroy.bind(this, todo)}\n          onEdit={this.edit.bind(this, todo)}\n          editing={this.state.editing === todo.id}\n          onCancel={this.cancel}\n        />\n      );\n    }, this);\n\n    var activeTodoCount = todos.reduce(function(accum, todo) {\n      return todo.completed ? accum : accum + 1;\n    }, 0);\n\n    var completedCount = todos.length - activeTodoCount;\n\n    if (activeTodoCount || completedCount) {\n      footer = (\n        <TodoFooter\n          count={activeTodoCount}\n          completedCount={completedCount}\n          nowShowing={this.state.nowShowing}\n          onClearCompleted={this.clearCompleted}\n        />\n      );\n    }\n\n    if (todos.length) {\n      main = (\n        <section className=\"main\">\n          <input\n            id=\"toggle-all\"\n            className=\"toggle-all\"\n            type=\"checkbox\"\n            onChange={this.toggleAll}\n            checked={activeTodoCount === 0}\n          />\n          <label htmlFor=\"toggle-all\" />\n          <ul className=\"todo-list\">{todoItems}</ul>\n        </section>\n      );\n    }\n\n    return (\n      <div>\n        <header className=\"header\">\n          <h1>todos</h1>\n          <input\n            className=\"new-todo\"\n            placeholder=\"What needs to be done?\"\n            value={this.state.newTodo}\n            onKeyDown={this.handleNewTodoKeyDown}\n            onChange={this.handleChange}\n            autoFocus={true}\n          />\n        </header>\n        {main}\n        {footer}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}