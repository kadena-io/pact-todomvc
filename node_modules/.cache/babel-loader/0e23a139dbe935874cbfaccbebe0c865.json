{"ast":null,"code":"var _jsxFileName = \"/Users/heekyun/Kadena/pact-todomvc/src/components/todos/todo.jsx\";\nimport * as React from \"react\";\nvar ESCAPE_KEY = 27;\nvar ENTER_KEY = 13;\nexport class TodoItem extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editText: this.props.todo.title\n    };\n  }\n\n  handleSubmit(event) {\n    var val = this.state.editText.trim();\n\n    if (val) {\n      this.props.onSave(val);\n      this.setState({\n        editText: val\n      });\n    } else {\n      this.props.onDestroy();\n    }\n  }\n\n  handleEdit() {\n    this.props.onEdit();\n    this.setState({\n      editText: this.props.todo.title\n    });\n  }\n\n  handleKeyDown(event) {\n    if (event.which === ESCAPE_KEY) {\n      this.setState({\n        editText: this.props.todo.title\n      });\n      this.props.onCancel(event);\n    } else if (event.which === ENTER_KEY) {\n      this.handleSubmit(event);\n    }\n  }\n\n  handleChange(event) {\n    if (this.props.editing) {\n      this.setState({\n        editText: event.target.value\n      });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.todo !== this.props.todo || nextProps.editing !== this.props.editing || nextState.editText !== this.state.editText;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editing && this.props.editing) {\n      var node = React.findDOMNode(this.refs.editField);\n      node.focus();\n      node.setSelectionRange(node.value.length, node.value.length);\n    }\n  }\n\n  render() {\n    return React.createElement(\"li\", {\n      className: {\n        completed: this.props.todo.completed,\n        editing: this.props.editing\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"view\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"toggle\",\n      type: \"checkbox\",\n      checked: this.props.todo.completed,\n      onChange: this.props.onToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      onDoubleClick: this.handleEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.props.todo.title), React.createElement(\"button\", {\n      className: \"destroy\",\n      onClick: this.props.onDestroy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      ref: \"editField\",\n      className: \"edit\",\n      value: this.props.editText,\n      onBlur: this.handleSubmit,\n      onChange: this.handleChange,\n      onKeyDown: this.handleKeyDown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/heekyun/Kadena/pact-todomvc/src/components/todos/todo.jsx"],"names":["React","ESCAPE_KEY","ENTER_KEY","TodoItem","PureComponent","constructor","props","state","editText","todo","title","handleSubmit","event","val","trim","onSave","setState","onDestroy","handleEdit","onEdit","handleKeyDown","which","onCancel","handleChange","editing","target","value","shouldComponentUpdate","nextProps","nextState","componentDidUpdate","prevProps","node","findDOMNode","refs","editField","focus","setSelectionRange","length","render","completed","onToggle"],"mappings":"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","sourcesContent":["import * as React from \"react\";\n\nvar ESCAPE_KEY = 27;\nvar ENTER_KEY = 13;\n\nexport class TodoItem extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { editText: this.props.todo.title };\n  }\n\n  handleSubmit(event) {\n    var val = this.state.editText.trim();\n    if (val) {\n      this.props.onSave(val);\n      this.setState({ editText: val });\n    } else {\n      this.props.onDestroy();\n    }\n  }\n\n  handleEdit() {\n    this.props.onEdit();\n    this.setState({ editText: this.props.todo.title });\n  }\n\n  handleKeyDown(event) {\n    if (event.which === ESCAPE_KEY) {\n      this.setState({ editText: this.props.todo.title });\n      this.props.onCancel(event);\n    } else if (event.which === ENTER_KEY) {\n      this.handleSubmit(event);\n    }\n  }\n\n  handleChange(event) {\n    if (this.props.editing) {\n      this.setState({ editText: event.target.value });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      nextProps.todo !== this.props.todo ||\n      nextProps.editing !== this.props.editing ||\n      nextState.editText !== this.state.editText\n    );\n  }\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editing && this.props.editing) {\n      var node = React.findDOMNode(this.refs.editField);\n      node.focus();\n      node.setSelectionRange(node.value.length, node.value.length);\n    }\n  }\n\n  render() {\n    return (\n      <li\n        className={{\n          completed: this.props.todo.completed,\n          editing: this.props.editing\n        }}\n      >\n        <div className=\"view\">\n          <input\n            className=\"toggle\"\n            type=\"checkbox\"\n            checked={this.props.todo.completed}\n            onChange={this.props.onToggle}\n          />\n          <label onDoubleClick={this.handleEdit}>{this.props.todo.title}</label>\n          <button className=\"destroy\" onClick={this.props.onDestroy} />\n        </div>\n        <input\n          ref=\"editField\"\n          className=\"edit\"\n          value={this.props.editText}\n          onBlur={this.handleSubmit}\n          onChange={this.handleChange}\n          onKeyDown={this.handleKeyDown}\n        />\n      </li>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}